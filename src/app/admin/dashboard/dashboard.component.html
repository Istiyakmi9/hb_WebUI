<div class="main-container bg-white z-3">
  <div class="col-md-12">
    <div class="row justify-content-between">
      <div class="col-md-2 position-sticky sticky-sidebar">
        <div class="row align-items-center justify-content-between">
          <div class="col-auto">
            <h6>Manage Pages and profiles</h6>
          </div>
          <div class="col-auto">
            <a href="javascript:void(0)" class="text-decoration-none">
              <i class="fa-solid fa-ellipsis"></i>
            </a>
          </div>
        </div>
        <div class="col-md-12 d-flex align-items-center mt-2 mb-3">
          <div class="col-md-1 overfloe-hidden">
            <img src="assets/face.jpg" alt="" class="rounded rounded-circle" width="100%">
          </div>
          <span class="ps-3 fw-bold">{{userName | titlecase}}</span>
        </div>
        <div *ngFor="let item of pages" class="row align-items-center justify-content-between text-muted mt-3">
          <div class="col-auto">
            <a href="javascript:void(0)" class="text-decoration-none d-flex align-items-center text-muted">
              <i class="{{item.Icon}}"></i>
              <h6 class="px-2 mb-0 fw-normal">{{item.Title}}</h6>
              <small>
                <i class="fa-solid fa-circle-exclamation"></i>
              </small>
            </a>
          </div>
          <div class="col-auto">
            {{item.Total}}
          </div>
        </div>
        <hr>
      </div>
      <div class="col-md-5">
        <!-- Post Section -->
        <div class="col-md-12 card shadow mb-3">
          <div class="col-md-12 d-flex align-items-center p-2">
            <div class="col-auto">
              <img src="assets/face.jpg" alt="" class="rounded rounded-circle profile-image">
            </div>
            <input type="text" class="form-control rounded-pill mx-2" [(ngModel)]="postMessage" [placeholder]="placeholder">
            <div class="col-auto" [ngClass]="{'d-none': postMessage == null || postMessage == ''}">
              <button class="btn btn-outline-success rounded rounded-pill " (click)="savePost()">save</button>
            </div>
          </div>
          <hr>
          <div class="row align-items-center justify-content-evenly mb-3">
            <div class="col-auto">
              <a href="javascript:void(0)" class="text-decoration-none">
                <i class="fa-solid fa-video"></i>
                <span class="ps-2">Live Video</span>
              </a>
            </div>
            <div class="col-auto">
              <input type="file" id="uploadPost" multiple class="d-none" accept=".jpg, .jpeg, .png" (change)="uploadMessageImg($event)"/>
              <a href="javascript:void(0)" class="text-decoration-none" (click)="fireBrowserFile()">
                <i class="fa-regular fa-image"></i>
                <span class="ps-2">Photo/Video</span>
              </a>
            </div>
            <div class="col-auto">
              <a href="javascript:void(0)" class="text-decoration-none">
                <i class="fa-solid fa-clapperboard"></i>
                <span class="ps-2">Reel</span>
              </a>
            </div>
          </div>
        </div>
        <div class="card shadow mt-3 p-3" *ngFor="let item of posts">
          <div class="col-md-12 d-flex align-items-center p-2">
            <div class="col-auto">
              <img [src]="item.UserImage" alt="" class="rounded rounded-circle profile-image">
            </div>
            <div class="col-auto ms-3">
              <p class="mb-0 fw-bold text-start">
                {{item.UserName}}.
                <a href="javascript:void(0)" class="text-decoration-none">Follow</a>
              </p>
              <small>
                {{item.PostedOn | date: 'MMMM d, y, h:mm:ss a'}}
                <i class="fa-solid fa-earth-americas ps-1"></i>
              </small>
            </div>
          </div>
          <p class="mb-0 text-start ">{{item.PostDetail}}</p>
          <!-- <ng-container *ngIf="item.PostImages.length > 0">
            <div class="container profile">
              <div [ngSwitch]="item.PostImages.length">
                <div *ngSwitchCase="1" class="mt-3">
                  <img [src]="item.PostImages[0]" alt="" width="100%">
                </div>
                <div *ngSwitchCase="2" class="row mt-3">
                  <div class="col-md-6">
                    <img [src]="item.PostImages[0]" alt="" width="100%">
                  </div>
                  <div class="col-md-6">
                    <img [src]="item.PostImages[1]" alt="" width="100%">
                  </div>
                </div>
                <div *ngSwitchCase="3" class="row mt-3">
                  <div class="col-md-6">
                    <img [src]="item.PostImages[0]" alt="" width="100%" height="100%">
                  </div>
                  <div class="col-md-6">
                    <div class="col-md-12">
                      <img [src]="item.PostImages[1]" alt="" width="100%">
                    </div>
                    <div class="col-md-12 mt-3">
                      <img [src]="item.PostImages[2]" alt="" width="100%">
                    </div>
                  </div>
                </div>
                <div *ngSwitchCase="4" class="row mt-3">
                  <div class="col-md-6">
                    <img [src]="item.PostImages[0]" alt="" width="100%" height="100%">
                  </div>
                  <div class="col-md-6">
                    <div class="col-md-12">
                      <img [src]="item.PostImages[1]" alt="" width="100%" height="100%">
                    </div>
                    <div class="row mt-3">
                      <div class="col-md-6">
                        <img [src]="item.PostImages[2]" alt="" width="100%" height="100%">
                      </div>
                      <div class="col-md-6">
                        <img [src]="item.PostImages[3]" alt="" width="100%" height="100%">
                      </div>
                    </div>
                  </div>
                </div>
                <div *ngSwitchCase="5" class="row mt-3">
                  <div class="col-md-6">
                    <img [src]="item.PostImages[0]" alt="" width="100%" height="100%">
                  </div>
                  <div class="col-md-6">
                    <div class="row">
                      <div class="col-md-6">
                        <img [src]="item.PostImages[1]" alt="" width="100%">
                      </div>
                      <div class="col-md-6">
                        <img [src]="item.PostImages[2]" alt="" width="100%">
                      </div>
                    </div>
                    <div class="row mt-3">
                      <div class="col-md-6">
                        <img [src]="item.PostImages[3]" alt="" width="100%">
                      </div>
                      <div class="col-md-6">
                        <img [src]="item.PostImages[4]" alt="" width="100%">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-container> -->
          <div class="gallery-lightbox-container">
            <div class="gallery"  [ngStyle]="{'column-count': item.PostImages.length == 1 ? 1 : item.PostImages.length == 2 ? 2 : 3}">
                <div *ngFor="let data of item.PostImages; let i=index" class="gallery-img">
                    <img (click)="onPreviewImage(i, item.PostImages)" [src]="data.imageSrc" [alt]="data.imageAlt">
                </div>
            </div>
            <div *ngIf="showMask" class="lightbox z-3" @animation2 (click)="onClosePreview()">
                <span *ngIf="showCount" class="count">
                    {{currentIndex + 1}}/{{totalImageCount}}
                </span>
                <button *ngIf="previewImage" class="close-btn" (click)="onClosePreview()">
                    <i class="fa-solid fa-xmark"></i>
                </button>
                <button *ngIf="controls" class="btn-lightbox-carousel btn-prev" (click)="prev($event)">
                    <i class="fa-solid fa-circle-arrow-left icon-lightbox-carousel icon-prev"></i>
                </button>
                <button *ngIf="controls" class="btn-lightbox-carousel btn-next" (click)="next($event)">
                    <i class="fa-solid fa-circle-arrow-right icon-lightbox-carousel icon-next"></i>
                </button>

                <div *ngIf="previewImage"
                    [@animation]="{value: 'visible'}"
                    (@animation.done)="onAnimationEnd($event)"
                    class="lightbox-img">
                    <img [src]="currentLightboxImage.imageSrc" [alt]="currentLightboxImage.imageAlt">
                </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-3 position-sticky sticky-sidebar">
        <div class="row align-items-center justify-content-between">
          <div class="col-auto">
            <h6>Manage Pages and profiles</h6>
          </div>
          <div class="col-auto">
            <a href="javascript:void(0)" class="text-decoration-none">
              <i class="fa-solid fa-ellipsis"></i>
            </a>
          </div>
        </div>
        <div class="col-md-12 d-flex align-items-center mt-2 mb-3">
          <div class="col-md-1 overfloe-hidden">
            <img src="assets/face.jpg" alt="" class="rounded rounded-circle" width="100%">
          </div>
          <span class="ps-3 fw-bold">{{userName | titlecase}}</span>
        </div>
        <div *ngFor="let item of pages" class="row align-items-center justify-content-between text-muted mt-3">
          <div class="col-auto">
            <a href="javascript:void(0)" class="text-decoration-none d-flex align-items-center text-muted">
              <i class="{{item.Icon}}"></i>
              <h6 class="px-2 mb-0 fw-normal">{{item.Title}}</h6>
              <small>
                <i class="fa-solid fa-circle-exclamation"></i>
              </small>
            </a>
          </div>
          <div class="col-auto">
            {{item.Total}}
          </div>
        </div>
        <hr>
      </div>
    </div>
  </div>
</div>
